"use strict";(self.webpackChunkbook_monkey=self.webpackChunkbook_monkey||[]).push([[881],{4881:(N,u,r)=>{r.r(u),r.d(u,{BooksModule:()=>F});var c=r(6814),l=r(2413),t=r(6689),m=r(5008);let f=(()=>{class o{constructor(){this.confirm=new t.vpe}onClick(){window.confirm(this.confirmText)&&this.confirm.emit()}static#t=this.\u0275fac=function(n){return new(n||o)};static#o=this.\u0275dir=t.lG2({type:o,selectors:[["","bmConfirm",""]],hostBindings:function(n,s){1&n&&t.NdJ("click",function(){return s.onClick()})},inputs:{confirmText:["bmConfirm","confirmText"]},outputs:{confirm:"confirm"}})}return o})();var g=r(8645),_=r(9773),b=r(9346);let h=(()=>{class o{constructor(i,n,s){this.template=i,this.viewContainer=n,this.authService=s,this.destroy$=new g.x,this.authService.isAuthenticated$.pipe((0,_.R)(this.destroy$)).subscribe(a=>{a?this.viewContainer.createEmbeddedView(this.template):this.viewContainer.clear()})}ngOnDestroy(){this.destroy$.next()}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(t.Rgc),t.Y36(t.s_b),t.Y36(b.e))};static#o=this.\u0275dir=t.lG2({type:o,selectors:[["","bmLoggedinOnly",""]]})}return o})(),p=(()=>{class o{transform(i){return i?`${i.substring(0,3)}-${i.substring(3)}`:""}static#t=this.\u0275fac=function(n){return new(n||o)};static#o=this.\u0275pipe=t.Yjl({name:"isbn",type:o,pure:!0})}return o})();function k(o,e){if(1&o&&(t.TgZ(0,"p",9),t._uU(1),t.qZA()),2&o){const i=t.oxw().ngIf;t.xp6(1),t.Oqu(i.subtitle)}}function d(o,e){if(1&o&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&o){const i=e.$implicit;t.xp6(1),t.Oqu(i)}}function v(o,e){if(1&o&&(t.TgZ(0,"div")(1,"h2"),t._uU(2,"Published"),t.qZA(),t._uU(3),t.ALo(4,"date"),t.qZA()),2&o){const i=t.oxw().ngIf;t.xp6(3),t.hij(" ",t.xi3(4,1,i.published,"longDate")," ")}}function Z(o,e){if(1&o&&t._UZ(0,"img",10),2&o){const i=t.oxw().ngIf;t.Q6J("src",i.thumbnailUrl,t.LSH)}}const x=function(o){return["/admin/edit",o]};function T(o,e){if(1&o){const i=t.EpF();t.ynx(0),t.TgZ(1,"button",11),t.NdJ("confirm",function(){t.CHM(i);const s=t.oxw().ngIf,a=t.oxw();return t.KtG(a.removeBook(s.isbn))}),t._uU(2," Remove book "),t.qZA(),t.TgZ(3,"a",12),t._uU(4," Edit book "),t.qZA(),t.BQk()}if(2&o){const i=t.oxw().ngIf;t.xp6(3),t.Q6J("routerLink",t.VKq(1,x,i.isbn))}}function C(o,e){if(1&o&&(t.TgZ(0,"div",1)(1,"h1"),t._uU(2),t.qZA(),t.YNc(3,k,2,1,"p",2),t.TgZ(4,"div",3)(5,"div")(6,"h2"),t._uU(7,"Authors"),t.qZA(),t.TgZ(8,"ul"),t.YNc(9,d,2,1,"li",4),t.qZA()(),t.TgZ(10,"div")(11,"h2"),t._uU(12,"ISBN"),t.qZA(),t._uU(13),t.ALo(14,"isbn"),t.qZA(),t.YNc(15,v,5,4,"div",5),t.qZA(),t.TgZ(16,"h2"),t._uU(17,"Description"),t.qZA(),t.TgZ(18,"p"),t._uU(19),t.qZA(),t.YNc(20,Z,1,1,"img",6),t.TgZ(21,"a",7),t._uU(22,"Back to list"),t.qZA(),t.YNc(23,T,5,3,"ng-container",8),t.qZA()),2&o){const i=e.ngIf;t.xp6(2),t.Oqu(i.title),t.xp6(1),t.Q6J("ngIf",i.subtitle),t.xp6(6),t.Q6J("ngForOf",i.authors),t.xp6(4),t.hij(" ",t.lcZ(14,7,i.isbn)," "),t.xp6(2),t.Q6J("ngIf",i.published),t.xp6(4),t.Oqu(i.description),t.xp6(1),t.Q6J("ngIf",i.thumbnailUrl)}}let B=(()=>{class o{constructor(i,n,s){this.service=i,this.route=n,this.router=s;const a=this.route.snapshot.paramMap.get("isbn");this.book$=this.service.getSingle(a)}removeBook(i){this.service.remove(i).subscribe(()=>{this.router.navigateByUrl("/books")})}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(m.T),t.Y36(l.gz),t.Y36(l.F0))};static#o=this.\u0275cmp=t.Xpm({type:o,selectors:[["bm-book-details"]],decls:2,vars:3,consts:[["class","details",4,"ngIf"],[1,"details"],["role","doc-subtitle",4,"ngIf"],[1,"header"],[4,"ngFor","ngForOf"],[4,"ngIf"],["alt","Cover",3,"src",4,"ngIf"],["routerLink","..",1,"button","arrow-left"],[4,"bmLoggedinOnly"],["role","doc-subtitle"],["alt","Cover",3,"src"],["bmConfirm","Remove book?",1,"red",3,"confirm"],[1,"button",3,"routerLink"]],template:function(n,s){1&n&&(t.YNc(0,C,24,9,"div",0),t.ALo(1,"async")),2&n&&t.Q6J("ngIf",t.lcZ(1,1,s.book$))},dependencies:[c.sg,c.O5,l.rH,f,h,c.Ov,c.uU,p]})}return o})();function A(o,e){if(1&o&&t._UZ(0,"img",6),2&o){const i=t.oxw(2);t.Q6J("src",i.book.thumbnailUrl,t.LSH)}}function I(o,e){if(1&o&&(t.TgZ(0,"p",7),t._uU(1),t.qZA()),2&o){const i=t.oxw(2);t.xp6(1),t.hij(" ",i.book.subtitle," ")}}function y(o,e){if(1&o&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&o){const i=e.$implicit;t.xp6(1),t.hij(" ",i," ")}}function U(o,e){if(1&o&&(t.TgZ(0,"a",1),t.YNc(1,A,1,1,"img",2),t.TgZ(2,"h2"),t._uU(3),t.qZA(),t.YNc(4,I,2,1,"p",3),t.TgZ(5,"ul",4),t.YNc(6,y,2,1,"li",5),t.qZA(),t.TgZ(7,"div"),t._uU(8),t.ALo(9,"isbn"),t.qZA()()),2&o){const i=t.oxw();t.Q6J("routerLink",i.book.isbn),t.xp6(1),t.Q6J("ngIf",i.book.thumbnailUrl),t.xp6(2),t.Oqu(i.book.title),t.xp6(1),t.Q6J("ngIf",i.book.subtitle),t.xp6(2),t.Q6J("ngForOf",i.book.authors),t.xp6(2),t.hij("ISBN ",t.lcZ(9,6,i.book.isbn),"")}}let L=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#o=this.\u0275cmp=t.Xpm({type:o,selectors:[["bm-book-list-item"]],inputs:{book:"book"},decls:1,vars:1,consts:[["class","list-item",3,"routerLink",4,"ngIf"],[1,"list-item",3,"routerLink"],["alt","Cover",3,"src",4,"ngIf"],["role","doc-subtitle",4,"ngIf"],[1,"comma-list"],[4,"ngFor","ngForOf"],["alt","Cover",3,"src"],["role","doc-subtitle"]],template:function(n,s){1&n&&t.YNc(0,U,10,8,"a",0),2&n&&t.Q6J("ngIf",s.book)},dependencies:[c.sg,c.O5,l.rH,p]})}return o})();function q(o,e){if(1&o&&(t.TgZ(0,"li"),t._UZ(1,"bm-book-list-item",4),t.qZA()),2&o){const i=e.$implicit;t.xp6(1),t.Q6J("book",i)}}function J(o,e){1&o&&(t.TgZ(0,"li"),t._uU(1," No books available. "),t.qZA())}function Y(o,e){if(1&o&&(t.TgZ(0,"ul",1),t.YNc(1,q,2,1,"li",2),t.YNc(2,J,2,0,"li",3),t.qZA()),2&o){const i=e.ngIf;t.xp6(1),t.Q6J("ngForOf",i),t.xp6(1),t.Q6J("ngIf",!i.length)}}const w=[{path:"",component:(()=>{class o{constructor(i){this.service=i,this.books$=this.service.getAll()}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(m.T))};static#o=this.\u0275cmp=t.Xpm({type:o,selectors:[["bm-book-list"]],decls:4,vars:3,consts:[["class","book-list",4,"ngIf"],[1,"book-list"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"book"]],template:function(n,s){1&n&&(t.TgZ(0,"h1"),t._uU(1,"Books"),t.qZA(),t.YNc(2,Y,3,2,"ul",0),t.ALo(3,"async")),2&n&&(t.xp6(2),t.Q6J("ngIf",t.lcZ(3,1,s.books$)))},dependencies:[c.sg,c.O5,L,c.Ov]})}return o})()},{path:":isbn",component:B}];let O=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#o=this.\u0275mod=t.oAB({type:o});static#i=this.\u0275inj=t.cJS({imports:[l.Bz.forChild(w),l.Bz]})}return o})(),F=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#o=this.\u0275mod=t.oAB({type:o});static#i=this.\u0275inj=t.cJS({imports:[c.ez,O]})}return o})()}}]);